{% extends "base.html" %}
{% block title %}{% endblock %}
{% block head %}
{{ super() }}
{% endblock %}
{% block content %}
<!--css style sheet-->
<link rel="stylesheet" href="{{ url_for('static', path='/video.css') }}">
<!--Javascript link-->
<script src="{{ url_for('static', path='/video.js') }}"></script>
<!--Add videos here-->
<div class="container">
<video tabindex="-1" width="720" height="480" controls autoplay>
    <source src="{{ video_url }}/{{ video_link }}" type="{{ video.file_format }}">
</video>
<br>
<br>
<h3>{{ video.video_name }}</h3>
<p class="videoViewsTimestamp"><span>{{ video.views }} views </span>&nbsp;&nbsp;<span>{{ video.ts_upload }}</span></p>

<!--profilepicture flag present-->
{% if get_profile(video.video_username)%}
<img class="profilePicture" src="{{ profile_picture_url}}/{{ video.video_username }}"
width="45" height="45" alt="profile-picture">
{% else %}
<img class="profilePicture" src="{{ url_for('static', path='/assets/default_picture.jpg') }}"
width="45" height="45" alt="profile-picture">
{% endif %}
<h5 class="videoUsername">{{ video.video_username }}</h5>

<!--Like and Dislike Buttons-->

<div id="likeDislikeDisplay"></div>
<script type="text/babel">
    class LikeDislikeComp extends React.Component {
        constructor(props) {
        super(props);
    }
    render() {
        return (
            <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="btnradio"  autocomplete="off"></input>
                <label class="btn btn-outline-primary" id="likeButton" onClick={like_unlike} for="btnradio1">üëç</label>

                <input type="radio" class="btn-check" name="btnradio" autocomplete="off"></input>
                <label class="btn btn-outline-primary" id="dislikeButton" onClick={dislike_undislike} for="btnradio2">üëé</label>
            </div>
            );
        }
    }
    ReactDOM.render(<LikeDislikeComp/>, document.querySelector("#likeDislikeDisplay"));
</script>
<br>

<h6 class="videoName w-100">{{ video.video_name }}</h6>

{% if video.description %}
<p>{{ video.description }}</p>
{% endif %}
<div id="displayCommentBox"></div>
<script type="text/babel">
class CommentBoxRender extends React.Component {
    constructor(props) {
    super(props);
}
render() {
        return (
        <div>
            <textarea placeholder="Add a public comment" id="commentBox" class="w-50" rows="3" aria-label="With textarea"></textarea>
            <br />
            <button onClick={submitComment}>comment</button>
        </div>
        );
    }
}
ReactDOM.render(<CommentBoxRender/>, document.querySelector("#likeDislikeDisplay"));
</script>
{% for comment in comments %}
    <div class="container displayComment">
        <!--profile picture-->
        {% if get_profile(get_username(comment.comment_user_id))%}
        <img class="profilePicture" src="{{ profile_picture_url}}/{{ video.video_username }}"
        width="30" height="30" alt="profile-picture">
        {% else %}
        <img class="profilePicture" src="{{ url_for('static', path='/assets/default_picture.jpg') }}"
        width="30" height="30" alt="profile-picture">
        {% endif %}
        <!--commenter username-->
        <h6><strong>{{ get_username(comment.comment_user_id) }}</strong></h6>
        <!--comment-->
        <h4>{{ comment.comment_content }}</h4>
        <h4>{{ comment.ts_comment }}</h4>
        {% if active_user.user_id == comment.comment_user_id %}
        <input type="button" class="btn-check" name="btnradio"  autocomplete="off">
        <label class="btn btn-outline-primary" id="CommentCommentID{{ comment.comment_id }}" onclick="deleteComment(this.id)"for="btnradio1">üóëÔ∏è</label>
        {% endif %}
    </div>
{% endfor %}
<p id="video_id_hidden" style="display: none;">{{ video.video_id }}</p>
</div>
{% endblock %}