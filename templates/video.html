{% extends "base.html" %}
{% block title %}{% endblock %}
{% block head %}
{{ super() }}
{% endblock %}
{% block content %}
<!--css style sheet-->
<link rel="stylesheet" href="{{ url_for('static', path='/video.css') }}">
<!--Javascript link-->
<script src="{{ url_for('static', path='/video.js') }}"></script>
<!--Add videos here-->
<div class="container">
<video tabindex="-1" width="720" height="480" controls autoplay>
    <source src="{{ video_url }}/{{ video_link }}" type="{{ video.file_format }}">
</video>
<br>
<br>
<h3>{{ video.video_name }}</h3>
<h5>{{ video.views }} views </h5>
<!--Like and Dislike Buttons-->

<div id="likeDislikeDisplay"></div>
<script type="text/babel">
    function RenderLikeDislike() {
        return (
            <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="btnradio"  autocomplete="off"></input>
                <label class="btn btn-outline-primary" id="likeButton" onclick="like_unlike()"for="btnradio1">👍</label>

                <input type="radio" class="btn-check" name="btnradio" autocomplete="off"></input>
                <label class="btn btn-outline-primary" id="dislikeButton" onclick="dislike_undislike()"for="btnradio2">👎</label>
            </div>
        );
    }
    ReactDOM.render(<RenderLikeDislike />, document.querySelector("#likeDislikeDisplay"));
</script>



<!--profilepicture flag present-->
    {% if get_profile(video.video_username)%}
    <img class="profilePicture" src="{{ profile_picture_url}}/{{ video.video_username }}"
    width="30" height="30" alt="profile-picture" >
    {% else %}
    <img class="profilePicture" src="{{ url_for('static', path='/assets/default_picture.jpg') }}"
    width="30" height="30" alt="profile-picture" >
    {% endif %}
    <p class="videoUsername">{{ video.video_username }}</p>
    <h6 class="videoName w-100">{{ video.video_name }}</h6>
    <strong class="viewCount">{{ video.views }} views</strong>
{% if video.description %}
<p>{{ video.description }}</p>
{% endif %}

<div class="input-group">
    <span class="input-group-text">

    </span>
    <textarea placeholder="Add a public comment" id="commentBox" class="form-control" aria-label="With textarea"></textarea>
    <button onclick="submitComment()">comment</button>
</div>
{% for comment in comments %}
<div class="container displayComment">
    <!--profile picture-->
    {% if get_profile(get_username(comment.comment_user_id))%}
    <img class="profilePicture" src="{{ profile_picture_url}}/{{ video.video_username }}"
    width="30" height="30" alt="profile-picture">
    {% else %}
    <img class="profilePicture" src="{{ url_for('static', path='/assets/default_picture.jpg') }}"
    width="30" height="30" alt="profile-picture">
    {% endif %}
    <!--commenter username-->
    <h6><strong>{{ get_username(comment.comment_user_id) }}</strong></h6>
    <!--comment-->
    <h4>{{ comment.comment_content }}</h4>
    <h4>{{ comment.ts_comment }}</h4>
    {% if active_user.user_id == comment.comment_user_id %}
    <input type="button" class="btn-check" name="btnradio"  autocomplete="off">
    <label class="btn btn-outline-primary" id="CommentCommentID{{ comment.comment_id }}" onclick="deleteComment(this.id)"for="btnradio1">🗑️</label>
    {% endif %}
</div>
{% endfor %}


<p id="video_id_hidden" style="display: none;">{{ video.video_id }}</p>
</div>
{% endblock %}